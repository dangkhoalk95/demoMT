<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MT7697 API Reference: Model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="airoha.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MT7697 API Reference
   &#160;<span id="projectnumber">Airoha IoT SDK</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___bluetooth_mes_model.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Model<div class="ingroups"><a class="el" href="group___bluetooth_service.html">Bluetooth Services</a> &raquo; <a class="el" href="group___bluetooth_mesh.html">Mesh</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section introduces the Mesh Model APIs for creating a mesh device.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section introduces the Mesh Model APIs for creating a mesh device. </p>
<p>It shows how to: use enums and structures and API prototypes for adding elements and client or server models; bind a model to an application key; set and get composition data; get the publication state and subscription list.</p>
<h1><a class="anchor" id="bt_mesh_model_api_usage"></a>
How to create a mesh device</h1>
<ul>
<li>The application calls functions <a class="el" href="group___bluetooth_mes_model.html#gac24215acb4e985e90209541b75feab1c" title="Set the compostition data header for this device. ">bt_mesh_model_set_composition_data_header()</a>, <a class="el" href="group___bluetooth_mes_model.html#ga5a43b6bb6943f5a675866e661200c0cc" title="Adding an element to this device. ">bt_mesh_model_add_element()</a>, bt_mesh_model_add_configuration_server(), bt_mesh_model_add_health_server and <a class="el" href="group___bluetooth_mes_model.html#gaece51e96e891b9fabe902bd280d4f953" title="Adding a model to this device. ">bt_mesh_model_add_model</a>.</li>
<li>It then adds elements and models to create a mesh device. This example shows a device with one element and one model.</li>
<li>Please refer to Mesh Profile Specification v1.0 Section 4.2.1.1 for information about the composition data header.</li>
<li>First, set the composition data header. Then, add the element. Finally, add the model to the added element. All registered messages are sent back to _sig_msg_handler.</li>
<li>The configuration server model and health server model can be added by bt_mesh_model_add_configuration_server and bt_mesh_model_add_health_server. If you want to implement them yourself, use <a class="el" href="group___bluetooth_mes_model.html#gaece51e96e891b9fabe902bd280d4f953" title="Adding a model to this device. ">bt_mesh_model_add_model</a> to add these two server models.</li>
<li>Sample code: <div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="structbt__mesh__access__opcode__handler__t.html">bt_mesh_access_opcode_handler_t</a> generic_onoff_server_handler[] =</div><div class="line">{</div><div class="line">     {Generic_OnOff_Set, <a class="code" href="group___bluetooth__mesh__model__define.html#ga24c8d86a86774b638952704645768313">MESH_MODEL_COMPANY_ID_NONE</a>, _sig_msg_handler},</div><div class="line">     {Generic_OnOff_Set_Unreliable, <a class="code" href="group___bluetooth__mesh__model__define.html#ga24c8d86a86774b638952704645768313">MESH_MODEL_COMPANY_ID_NONE</a>, _sig_msg_handler},</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> create_mesh_device(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">     uint8_t composition_data_header[10] =</div><div class="line">     {</div><div class="line">         0x94, 0x00, <span class="comment">// cid</span></div><div class="line">         0x1A, 0x00, <span class="comment">// pid</span></div><div class="line">         0x01, 0x00, <span class="comment">// vid</span></div><div class="line">         0x08, 0x00, <span class="comment">// crpl</span></div><div class="line">         <a class="code" href="group___bluetooth__mesh__config.html#ga4cf1bdbc47d693e90142bcf95d7d081f">BT_MESH_FEATURE_PROXY</a>, 0x00, <span class="comment">// features</span></div><div class="line">     };</div><div class="line">     uint16_t element_index;</div><div class="line">     uint16_t model_handle;</div><div class="line">     <a class="code" href="structbt__mesh__model__add__params__t.html">bt_mesh_model_add_params_t</a> model_params;</div><div class="line"></div><div class="line">     memset(&amp;gOnOffServer, 0, <span class="keyword">sizeof</span>(mesh_onoff_server_model_t));</div><div class="line"></div><div class="line">     <a class="code" href="group___bluetooth_mes_model.html#gac24215acb4e985e90209541b75feab1c">bt_mesh_model_set_composition_data_header</a>(10, composition_data_header);</div><div class="line">     <a class="code" href="group___bluetooth_mes_model.html#ga5a43b6bb6943f5a675866e661200c0cc">bt_mesh_model_add_element</a>(<a class="code" href="group___bluetooth__mesh__model__define.html#gaac51478d062e98b9a6980be0ca3d11ab">BT_MESH_MODEL_ELEMENT_LOCATION_FRONT</a>, &amp;element_index);</div><div class="line"></div><div class="line">     bt_mesh_model_add_configuration_server(&amp;model_handle, config_server_handler);</div><div class="line">     bt_mesh_model_add_health_server(element_index, &amp;model_handle);</div><div class="line"></div><div class="line">     model_params.<a class="code" href="structbt__mesh__model__add__params__t.html#a0e3e9b3f7e79a8c85876772aab3a9903">model_id</a> = <a class="code" href="group___bluetooth__mesh__model__define.html#ga5e54edcba14d11468c9d49cf73a8c30e">BT_MESH_MODEL_SIG_MODEL_ID_GENERIC_ONOFF_SERVER</a>;</div><div class="line">     model_params.<a class="code" href="structbt__mesh__model__add__params__t.html#aa571953284bca78d71d2055ec86d1b43">element_index</a> = element_index;</div><div class="line">     model_params.<a class="code" href="structbt__mesh__model__add__params__t.html#a8d97fbd3f669fc0e7594923d29ce92e4">opcode_handlers</a> = generic_onoff_server_handler;</div><div class="line">     model_params.<a class="code" href="structbt__mesh__model__add__params__t.html#a711daee1a11a3cc93801759f2e6cfac1">opcode_count</a> = <span class="keyword">sizeof</span>(generic_onoff_server_handler)/<span class="keyword">sizeof</span>(<a class="code" href="structbt__mesh__access__opcode__handler__t.html">bt_mesh_access_opcode_handler_t</a>);</div><div class="line">     <a class="code" href="group___bluetooth_mes_model.html#gaece51e96e891b9fabe902bd280d4f953">bt_mesh_model_add_model</a>(&amp;model_handle, &amp;model_params);</div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabed364ab344f0cba55098ae6e12c7912"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#gabed364ab344f0cba55098ae6e12c7912">bt_mesh_model_get_element_count</a> (void)</td></tr>
<tr class="memdesc:gabed364ab344f0cba55098ae6e12c7912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting the the count of elements in this node.  <a href="#gabed364ab344f0cba55098ae6e12c7912">More...</a><br /></td></tr>
<tr class="separator:gabed364ab344f0cba55098ae6e12c7912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac24215acb4e985e90209541b75feab1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetooth__mesh__common__enum.html#ga2fec07dd67f01913c3ea4f673d1dd563">bt_mesh_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#gac24215acb4e985e90209541b75feab1c">bt_mesh_model_set_composition_data_header</a> (uint8_t *buffer, uint8_t length)</td></tr>
<tr class="memdesc:gac24215acb4e985e90209541b75feab1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the compostition data header for this device.  <a href="#gac24215acb4e985e90209541b75feab1c">More...</a><br /></td></tr>
<tr class="separator:gac24215acb4e985e90209541b75feab1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a43b6bb6943f5a675866e661200c0cc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga5a43b6bb6943f5a675866e661200c0cc">bt_mesh_model_add_element</a> (uint16_t *element_index, uint16_t location)</td></tr>
<tr class="memdesc:ga5a43b6bb6943f5a675866e661200c0cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adding an element to this device.  <a href="#ga5a43b6bb6943f5a675866e661200c0cc">More...</a><br /></td></tr>
<tr class="separator:ga5a43b6bb6943f5a675866e661200c0cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaece51e96e891b9fabe902bd280d4f953"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#gaece51e96e891b9fabe902bd280d4f953">bt_mesh_model_add_model</a> (uint16_t *model_handle, const <a class="el" href="structbt__mesh__model__add__params__t.html">bt_mesh_model_add_params_t</a> *model_params)</td></tr>
<tr class="memdesc:gaece51e96e891b9fabe902bd280d4f953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adding a model to this device.  <a href="#gaece51e96e891b9fabe902bd280d4f953">More...</a><br /></td></tr>
<tr class="separator:gaece51e96e891b9fabe902bd280d4f953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3168c9785cd24b3b70ccb514a15208b1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga3168c9785cd24b3b70ccb514a15208b1">bt_mesh_model_get_element_address</a> (uint16_t element_index)</td></tr>
<tr class="memdesc:ga3168c9785cd24b3b70ccb514a15208b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting the address of the specified element.  <a href="#ga3168c9785cd24b3b70ccb514a15208b1">More...</a><br /></td></tr>
<tr class="separator:ga3168c9785cd24b3b70ccb514a15208b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63f4aec1076b0563d760155f9fd4e4ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetooth__mesh__common__enum.html#ga2fec07dd67f01913c3ea4f673d1dd563">bt_mesh_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga63f4aec1076b0563d760155f9fd4e4ec">bt_mesh_model_set_element_addr</a> (uint16_t unicast_addr)</td></tr>
<tr class="memdesc:ga63f4aec1076b0563d760155f9fd4e4ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setting the unicast address for the primary element of this node.  <a href="#ga63f4aec1076b0563d760155f9fd4e4ec">More...</a><br /></td></tr>
<tr class="separator:ga63f4aec1076b0563d760155f9fd4e4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c66f7d89389c8b509d9f4c5ed66cad6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetooth__mesh__access__enum.html#gaec98a4c5d6c9e34f0fb22297e39be537">bt_mesh_access_msg_status_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga9c66f7d89389c8b509d9f4c5ed66cad6">bt_mesh_model_bind_model_app</a> (uint16_t model_handle, uint16_t appkey_index)</td></tr>
<tr class="memdesc:ga9c66f7d89389c8b509d9f4c5ed66cad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binding the model to the assigned application key.  <a href="#ga9c66f7d89389c8b509d9f4c5ed66cad6">More...</a><br /></td></tr>
<tr class="separator:ga9c66f7d89389c8b509d9f4c5ed66cad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga711016c02b7260423bc5422afb1761a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbt__mesh__composition__data__t.html">bt_mesh_composition_data_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga711016c02b7260423bc5422afb1761a5">bt_mesh_model_get_composition_data</a> (void)</td></tr>
<tr class="memdesc:ga711016c02b7260423bc5422afb1761a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting the composition data of this device.  <a href="#ga711016c02b7260423bc5422afb1761a5">More...</a><br /></td></tr>
<tr class="separator:ga711016c02b7260423bc5422afb1761a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae01d83088062d6916a22ab9c8b367fd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbt__mesh__composition__data__t.html">bt_mesh_composition_data_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#gae01d83088062d6916a22ab9c8b367fd0">bt_mesh_model_parse_composition_data</a> (const uint8_t *buffer, uint16_t length)</td></tr>
<tr class="memdesc:gae01d83088062d6916a22ab9c8b367fd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parsing a byte array to composition data.  <a href="#gae01d83088062d6916a22ab9c8b367fd0">More...</a><br /></td></tr>
<tr class="separator:gae01d83088062d6916a22ab9c8b367fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga487972dc427dbd806e70fe57a6ef9260"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetooth__mesh__common__enum.html#ga2fec07dd67f01913c3ea4f673d1dd563">bt_mesh_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga487972dc427dbd806e70fe57a6ef9260">bt_mesh_model_free_composition_data</a> (<a class="el" href="structbt__mesh__composition__data__t.html">bt_mesh_composition_data_t</a> *composition_data)</td></tr>
<tr class="memdesc:ga487972dc427dbd806e70fe57a6ef9260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releasing the composition data.  <a href="#ga487972dc427dbd806e70fe57a6ef9260">More...</a><br /></td></tr>
<tr class="separator:ga487972dc427dbd806e70fe57a6ef9260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fa945811992c740e9be1bcf7dba42c7"><td class="memItemLeft" align="right" valign="top">bt_mesh_model_publication_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga5fa945811992c740e9be1bcf7dba42c7">bt_mesh_model_get_publication_state</a> (uint16_t model_handle)</td></tr>
<tr class="memdesc:ga5fa945811992c740e9be1bcf7dba42c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting the publication state of the specified model.  <a href="#ga5fa945811992c740e9be1bcf7dba42c7">More...</a><br /></td></tr>
<tr class="separator:ga5fa945811992c740e9be1bcf7dba42c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43ccb7e42e577a68b0ac102b63be12bc"><td class="memItemLeft" align="right" valign="top">uint16_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga43ccb7e42e577a68b0ac102b63be12bc">bt_mesh_model_get_subscription_list</a> (uint16_t model_handle, uint32_t *addr_count)</td></tr>
<tr class="memdesc:ga43ccb7e42e577a68b0ac102b63be12bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting the subscription list of the specified model.  <a href="#ga43ccb7e42e577a68b0ac102b63be12bc">More...</a><br /></td></tr>
<tr class="separator:ga43ccb7e42e577a68b0ac102b63be12bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17021a8ecb80f8a4445c1352bf989106"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_mes_model.html#ga17021a8ecb80f8a4445c1352bf989106">bt_mesh_model_get_element_index_by_model_handle</a> (uint16_t model_handle)</td></tr>
<tr class="memdesc:ga17021a8ecb80f8a4445c1352bf989106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getting the element index of the specified model.  <a href="#ga17021a8ecb80f8a4445c1352bf989106">More...</a><br /></td></tr>
<tr class="separator:ga17021a8ecb80f8a4445c1352bf989106"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___bluetooth__mesh__model__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth__mesh__model__define.html">Define</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___bluetooth__mesh__model__enum"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth__mesh__model__enum.html">Enum</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___bluetooth__mesh__model__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth__mesh__model__struct.html">Struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5a43b6bb6943f5a675866e661200c0cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bt_mesh_model_add_element </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>element_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adding an element to this device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">element_index</td><td>is the element index in this node. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">location</td><td>is the location of this element. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code>, means the element was successfully added.<br />
<code>false</code>, means adding the element failed. </dd></dl>

</div>
</div>
<a class="anchor" id="gaece51e96e891b9fabe902bd280d4f953"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bt_mesh_model_add_model </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>model_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbt__mesh__model__add__params__t.html">bt_mesh_model_add_params_t</a> *&#160;</td>
          <td class="paramname"><em>model_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adding a model to this device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">model_handle</td><td>is the handle of this added model. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">model_params</td><td>specifies where this model should be added, and defines the message handler of this model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code>, means the model was successfully added.<br />
<code>false</code>, means adding the model failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9c66f7d89389c8b509d9f4c5ed66cad6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetooth__mesh__access__enum.html#gaec98a4c5d6c9e34f0fb22297e39be537">bt_mesh_access_msg_status_code_t</a> bt_mesh_model_bind_model_app </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>model_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>appkey_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binding the model to the assigned application key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model_handle</td><td>is the handle of the model to be bound with the application key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">appkey_index</td><td>is the application key index to be bound with the model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetooth__mesh__common__enum.html#gga2fec07dd67f01913c3ea4f673d1dd563aacd364ab4e45a03667cff0b86b38bd41" title="Success. ">BT_MESH_SUCCESS</a>, requesting the message was successfully performed. <br />
<a class="el" href="group___bluetooth__mesh__access__enum.html#ggaec98a4c5d6c9e34f0fb22297e39be537a26b1f5da14c99e73e309287ea94a18eb" title="Invalid Model. ">BT_MESH_ACCESS_MSG_STATUS_INVALID_MODEL</a>, there is not enough memory for sending the reply. <br />
<a class="el" href="group___bluetooth__mesh__access__enum.html#ggaec98a4c5d6c9e34f0fb22297e39be537a07cc79595f95b81b12e84ffe76581522" title="Invalid AppKey Index. ">BT_MESH_ACCESS_MSG_STATUS_INVALID_APPKEY</a>, cannot find the corresponding address. <br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga487972dc427dbd806e70fe57a6ef9260"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetooth__mesh__common__enum.html#ga2fec07dd67f01913c3ea4f673d1dd563">bt_mesh_status_t</a> bt_mesh_model_free_composition_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbt__mesh__composition__data__t.html">bt_mesh_composition_data_t</a> *&#160;</td>
          <td class="paramname"><em>composition_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releasing the composition data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">composition_data</td><td>is the composition data to be freed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetooth__mesh__common__enum.html#gga2fec07dd67f01913c3ea4f673d1dd563aacd364ab4e45a03667cff0b86b38bd41" title="Success. ">BT_MESH_SUCCESS</a>, means the composition data header was successfully freed. <br />
<a class="el" href="group___bluetooth__mesh__common__enum.html#gga2fec07dd67f01913c3ea4f673d1dd563ab43ba0ac1935569606bf5661d6eb9f5c" title="Operation failed. ">BT_MESH_ERROR_FAIL</a>, means the composition data header failed to be freed.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga711016c02b7260423bc5422afb1761a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbt__mesh__composition__data__t.html">bt_mesh_composition_data_t</a>* bt_mesh_model_get_composition_data </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting the composition data of this device. </p>
<dl class="section return"><dt>Returns</dt><dd>The composition data. It must be freed by <a class="el" href="group___bluetooth_mes_model.html#ga487972dc427dbd806e70fe57a6ef9260" title="Releasing the composition data. ">bt_mesh_model_free_composition_data</a> after it is used. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3168c9785cd24b3b70ccb514a15208b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_mesh_model_get_element_address </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>element_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting the address of the specified element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">element_index</td><td>is the specified element. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The 16-byte unicast address. </dd></dl>

</div>
</div>
<a class="anchor" id="gabed364ab344f0cba55098ae6e12c7912"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_mesh_model_get_element_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting the the count of elements in this node. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of elements. </dd></dl>

</div>
</div>
<a class="anchor" id="ga17021a8ecb80f8a4445c1352bf989106"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_mesh_model_get_element_index_by_model_handle </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>model_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting the element index of the specified model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model_handle</td><td>is the handle of the model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The element index of this model. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5fa945811992c740e9be1bcf7dba42c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bt_mesh_model_publication_t* bt_mesh_model_get_publication_state </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>model_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting the publication state of the specified model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model_handle</td><td>is the handle of the model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The publication state of the model. </dd></dl>

</div>
</div>
<a class="anchor" id="ga43ccb7e42e577a68b0ac102b63be12bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t* bt_mesh_model_get_subscription_list </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>model_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>addr_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getting the subscription list of the specified model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model_handle</td><td>is the handle of model. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">addr_count</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The subscription list array. It must be freed after it is used. </dd></dl>

</div>
</div>
<a class="anchor" id="gae01d83088062d6916a22ab9c8b367fd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbt__mesh__composition__data__t.html">bt_mesh_composition_data_t</a>* bt_mesh_model_parse_composition_data </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parsing a byte array to composition data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>is the byte array of the composition data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>is the length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The parsed composition data. It must be freed by <a class="el" href="group___bluetooth_mes_model.html#ga487972dc427dbd806e70fe57a6ef9260" title="Releasing the composition data. ">bt_mesh_model_free_composition_data</a> after it is used. </dd></dl>

</div>
</div>
<a class="anchor" id="gac24215acb4e985e90209541b75feab1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetooth__mesh__common__enum.html#ga2fec07dd67f01913c3ea4f673d1dd563">bt_mesh_status_t</a> bt_mesh_model_set_composition_data_header </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the compostition data header for this device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>is the buffer containing the composition data header. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>is the length of the composition data header. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetooth__mesh__common__enum.html#gga2fec07dd67f01913c3ea4f673d1dd563aacd364ab4e45a03667cff0b86b38bd41" title="Success. ">BT_MESH_SUCCESS</a>, means the composition data header was successfully set. <br />
<a class="el" href="group___bluetooth__mesh__common__enum.html#gga2fec07dd67f01913c3ea4f673d1dd563ab43ba0ac1935569606bf5661d6eb9f5c" title="Operation failed. ">BT_MESH_ERROR_FAIL</a>, means setting the composition header failed.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga63f4aec1076b0563d760155f9fd4e4ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetooth__mesh__common__enum.html#ga2fec07dd67f01913c3ea4f673d1dd563">bt_mesh_status_t</a> bt_mesh_model_set_element_addr </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>unicast_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setting the unicast address for the primary element of this node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">unicast_addr</td><td>the address assigned to this node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetooth__mesh__common__enum.html#gga2fec07dd67f01913c3ea4f673d1dd563aacd364ab4e45a03667cff0b86b38bd41" title="Success. ">BT_MESH_SUCCESS</a>, means the element address was successfully set. <br />
<a class="el" href="group___bluetooth__mesh__common__enum.html#gga2fec07dd67f01913c3ea4f673d1dd563ab43ba0ac1935569606bf5661d6eb9f5c" title="Operation failed. ">BT_MESH_ERROR_FAIL</a>, means setting the element address failed. <br />
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Nov 19 2018 03:06:15 for MT7697 API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
